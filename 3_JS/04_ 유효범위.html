<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>유효범위</title>
</head>
<body>
    <h1>변수의 유효범위</h1>
   <input type="button" value="전역 | 지역" onclick="test1();">
   <input type="button" value="scope" onclick="test2();">
   <!--전역 scope : 전지역에서 접근 가능, 지역 scope: 한 지역 내에서만 접근 가능.-->

   <script>
        //debugger;
        var a = 100; //밖에서 선언되었으므로 window객체임
        console.log(a);
        //전역변수는 window에 등록 됨. window == global
        // 함수 밖에서 작성된 var변수는 전역변수로 등록
        //전역변수 == global == window. window 속성으로 등록
        d = "gg";//var없이 선언된 변수는 전역 변수로 등록 

        function test1(){
            // debugger;
            c= "zzzz";//함수 내부라도 해도 전역변수로 등록
            // global변수 (var 키워드 생략하면 바 내부든, 외부든 window객체로 등록됨. global에 등록된 것들은 계속 남아있음. )
            var a = '지역변수';
            var b = 123;//지역변수
            var a = true;//중복 선언이 가능(덮어 씌운다.)
            console.log(a, b, this.a);//일반 함수 안에서 this는 window (안에 객체가 없으므로.)


        }
        test1();//c는 test1함수 내에 있으므로 한번 호출해줘야 함. (c가 전역 변수에 등록 되어있으니까 선언 시키는 것.) // c변수 등록
        console.log(c);
        
        /* 
            scope의 유효범위
            var변수는 자바 언어처럼 block scope가 아님.
            var변수는 function scope를 가짐, 즉 함수 단위로 유효범위(scope)를 가지고 있음. 
        */

        function test2(){
            var x = 10;

            if(true){
                var y = 100;
            }
            console.log(y); // 100

            for(var i = 0; i<10; i++){
                console.log(i)
            }
            console.log(i);

            if(true){
                var k = 123.456;
            }

            console.log(k);
        }
   </script>
    <h1 onclick="test();">Hoisting</h1><!--Hoisting : 함수 선언식 위로 끌어올리는 것.-->
   <script>
    //debugger
        console.log(abcd);
        var abcd= "안녕";// var키워드로 선언된 변수는 hoisting된다. 
        //선언만 먼저 실행되고, 값은 67번째로 나중에 대입 들어가게 됨.

        foo(); //->? 왜 잘 출력 되는지?

        function foo(){//함수 선언식은 hoisting된다.
            console.log("foo");
        }
        //bar();// bar id not a function. (현재 bar는 undefind) -> 함수는 호출이 되었으나, 값이 아직 없어서.
        
        /* 함수 표현식 */
        var bar = function(){
            console.log("bar");
        }
        bar();//"bar"


   </script>
</body>
</html>